"use strict";$(document).ready(function(){function n(){var t=$("#runRules_Parameters .parameter"),n=[];return t.each(function(){n.push($(this).children(":first").first().children().first().val())}),n}function t(){var t=$("#createGroup_Parameters tbody > .group-parameter"),n=[];return t.each(function(){var t=$("#createGroup_Parameters tbody > .group-parameter").first().find("input");n.push({Name:t.first().val(),FullyQualifiedTypeName:t.last().val()})}),n}$(document).on("click",".remove-rule-button",function(){var n={ruleName:$(this).data("rule-name")};$.ajax({type:"POST",url:$(this).data("post-url"),data:n}).done(function(n){$("#rules_container").html(n)})});$(document).on("click",".remove-group-button",function(){var n={groupName:$(this).data("group-name")};$.ajax({type:"POST",url:$(this).data("post-url"),data:n}).done(function(n){$("#groups_container").html(n)})});$(".rules-refresh").click(function(){$.ajax({type:"GET",url:$(this).data("get-url")}).done(function(n){$("#rules_container").html(n)})});$(".groups-refresh").click(function(){$.ajax({type:"GET",url:$(this).data("get-url")}).done(function(n){$("#groups_container").html(n)})});$("#create_rule").submit(function(n){n.preventDefault();var t={code:$("#createRule_RuleCode").val(),group:$("#createRule_GroupCode").val(),source:$("#createRule_Source").val()};$.ajax({type:"POST",url:$(this).prop("target"),data:t}).fail(function(n){alert("Rule submission failed: "+n.status+"; Non-existant group?")}).done(function(n){$("#rules_container").html(n);$("#createRule_RuleCode").val("");$("#createRule_GroupCode").val("");$("#createRule_Source").val("")})});$("#create_group").submit(function(n){n.preventDefault();var i={name:$("#createGroup_GroupName").val(),parameters:t()};$.ajax({type:"POST",url:$(this).prop("target"),data:i}).fail(function(){alert("Group submission failed")}).done(function(n){$("#groups_container").html(n);$("#createGroup_GroupName").val("");$("#createGroup_Parameters > tbody > tr").remove()})});$("#run-submit").submit(function(t){t.preventDefault();$("#rule_results").html("");var i={group:$("#runRules_GroupCode").val(),parameters:n()};$.ajax({type:"POST",url:$(this).prop("target"),data:i}).done(function(n){$("#runRules_GroupCode").val("");$("#runRules_Parameters").find("tr:gt(0)").remove();$("#rule_results").html(n)}).fail(function(n){alert("Rule submission failed: "+n.status+"; Non-existant group?")})});$(".run-parameters-append").click(function(){$("#runRules_Parameters").append($("#parameter_model").html())});$(".group-parameters-append").click(function(){$("#createGroup_Parameters").append($("#createGroup_ParameterModel").html())});$(document).on("click",".parameter-remove",function(){$(this).parent().parent().remove()});$(document).on("click",".edit-rule-button",function(){var t=$(this).parent().parent().parent().find("td").slice(0,3),n=[];t.each(function(t,i){console.log(i+";"+t);n[t]=i.innerHTML});$("#createRule_RuleCode").val(n[0]);$("#createRule_GroupCode").val(n[1]);$("#createRule_Source").val(n[2])})});